{% extends  "layout/basic.html"%}


{% block content %}
	<div class="container mt-2">
		<div class="row">
			{% for product in products %}
			<div class="card border-warning mx-1 my-1" style="width: 20rem;">
				<img src="{{MEDIA_URL}}{{ product.image }}" width="260" height="260" class="card-img-top mt-3" alt="свеча">
				<div class="card-body text-center">
					<h5 class="card-title">{{ product.title }}</h5>
					<p class="card-text">{{ product.description }}</p>
					<p>Цена: {{ product.price }} руб.</p>
						<div class="quantity">
							<div class="wrapper">
								<input type="button" class="minus">
								<span class="minus-ico"></span>
								<input class="amount" type="text" readonly="readonly" name="number" value="1">
								<input type="button" class="plus">
								<span class="plus-ico"></span>
							</div>
						</div>
					<a href="#" class="btn btn-primary">+ в корзину</a>
				</div>
			</div>
			{% endfor %}
		</div>
		<button type="button" class="btn btn-primary mt-3 mb-3">Ещё товары</button>
	</div>
	<script>
		let btn_more = document.querySelector('.btn.btn-primary.mt-3.mb-3')
		const options = {
			headers: {
				Accept: 'application/json',
				'Accept-Languaage': 'ru-RU'
			}
		};

		function get_more_product() {
			// let new_request = new XMLHttpRequest;
			// console.log(new_request)
			method = "GET";
			url = "{% url 'home:candleholder' %}";
			
			// new_request.open(method, url);
			// new_request.setRequestHeader('X-REQUESTED_WITH', 'XMLHttpRequest');
			// new_request.send();
			window.fetch(url, {method: 'get', Accept: 'application/json'})
		}

		btn_more.addEventListener('click', () => {
			get_more_product()
		})

		let myStorage = window.localStorage;
		let count_product_in_cart = document.querySelector('.count-cart').innerHTML

		myStorage.setItem('count_product', count_product_in_cart)

	</script>
{% endblock content %}
